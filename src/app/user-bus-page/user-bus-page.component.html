<div class="bus-page">
  <h2>Available Buses</h2>

  <button class="btn-show-buses" (click)="getAllBuses()">Show All Buses</button>

  <div *ngIf="buses.length > 0">
    <h3>List of Buses</h3>
    <div class="bus-list">
      <div class="bus-card" *ngFor="let bus of buses">
        <strong>{{ bus.busName }}</strong>
        <p>Capacity: {{ bus.capacity }}</p>
        <p>Occupancy: {{ bus.occupancy }}</p>
        <p>Current Location: {{ bus.currentLocation }}</p>
        <p>Routes: {{ bus.routes.join(', ') }}</p>
        <p>Scheduled Arrival: {{ bus.scheduledArrivalTime }} hrs</p>
        <p>Actual Arrival: {{ bus.actualArrivalTime }} hrs</p>
        <p class="status" [ngClass]="bus.operating ? 'operating' : 'not-operating'">
          Operating: {{ bus.operating ? 'Yes' : 'No' }}
        </p>
      </div>
    </div>
  </div>

  <div *ngIf="buses.length === 0">
    <p>No buses available.</p>
  </div>

  <hr>

  <h2>Find Buses by Route</h2>
  <input type="text" [(ngModel)]="route" placeholder="Enter route" class="route-input" />
  <button class="btn-show-buses" (click)="getBusesByRoute()">Find Bus</button>

  <div *ngIf="filteredBuses.length > 0">
    <h3>Buses on Route {{ route }}</h3>
    <div class="bus-list">
      <div class="bus-card" *ngFor="let bus of filteredBuses">
        <strong>{{ bus.busName }}</strong>
        <p>Capacity: {{ bus.capacity }}</p>
        <p>Occupancy: {{ bus.occupancy }}</p>
        <p>Current Location: {{ bus.currentLocation }}</p>
        <p>Routes: {{ bus.routes.join(', ') }}</p>
        <p>Scheduled Arrival: {{ bus.scheduledArrivalTime }} hrs</p>
        <p>Actual Arrival: {{ bus.actualArrivalTime }} hrs</p>
        <p class="status" [ngClass]="bus.operating ? 'operating' : 'not-operating'">
          Operating: {{ bus.operating ? 'Yes' : 'No' }}
        </p>
      </div>
    </div>
  </div>

  <div *ngIf="filteredBuses.length === 0 && route">
    <p>No buses available for route "{{ route }}".</p>
  </div>
</div>
